= 상속(Inheritance)

=== 상속
* 하나의 클래스는 또 다른 클래스의 메서드, 프로퍼티 이외에 다른 특징을 상속받을 수 있음
* Subclass => 상속받은 클래스 
* Superclass => 상속하는 클래스는
* Swift에서 모든 클래스는 상위 클래스에 속한 메서드, 프로퍼티, 서브스크립트들을 호출하고 접근할 수 있고 해당 메서드, 프로퍼티, 서브스크립드들을 오버라이딩 하여 
자신의 행동을 재정의하거나 수정할 수 있음
* 프로퍼티 관잘자에 상속한 프로퍼티에 추가할 수 있음

=== Base Class

[source, swift]
----
// Base Class
// 어떤 클래스도 상속받지 않는 클래스
class Vehicle {
    var currentSpeed = 0.0
    var description: String {ㅜ
        return "traveling at \(currentSpeed) miles per hour"
    }
    func makeNoise() {
        // do nothing - an arbitrary vehicle doesn't necessarily make a noise
    }
}
----

=== Subclass

[source, swift]
----
// Objective-C와 달리 Swift에서 생성자는 디폴트로 상속하지 않음
// 하위클래스는 오로지 초기화하는 동안 상위 클래스의 변수만 수정할 수 있음. 상속한 하위 클래스의 상수는 변경할 수 없음
class SomeSubclass: SomeSuperclass {
    // subclass definition goes here
}

class Bicycle: Vehicle {
    var hasBasket = false
}

let bicycle = Bicycle()
bicycle.hasBasket = true

bicycle.currentSpeed = 15.0
print("Bicycle: \(bicycle.description)")
// Bicycle: traveling at 15.0 miles per hour

class Tandem: Bicycle {
    var currentNumberOfPassengers = 0
}

let tandem = Tandem()
tandem.hasBasket = true
tandem.currentNumberOfPassengers = 2
tandem.currentSpeed = 22.0
print("Tandem: \(tandem.description)")
// Tandem: traveling at 22.0 miles per hour
----

=== Overriding

[source, swift]
----
// 상위 클래스의 메서드, 프로퍼티, 서브스크립트 접근하는 방법
// super 키워드를 통해 접근할 수 있음


// 메서드 오버라이딩
class Train: Vehicle {
    override func makeNoise() {
        print("Choo Choo")
    }
}

let train = Train()
train.makeNoise()
// Prints "Choo Choo"


// 프로퍼티 오버라이딩
// 프로퍼티 접근자와 설정자 오버라이딩
// 상속한 프로퍼티를 오버라이딩 하려면 그 프로퍼티가 Stored 인지 Computed 인지 하위클래스는 알지 못함. 상속한 프로퍼티의 이름과 타입을 알뿐
// 프로퍼티 오버라이드 중 설정자를 제공한다면 접근자도 반드시 제공해야 함
// SpeedLimitedCar 예제처럼 상속한 프로퍼티의 값을 오버라이딩 접근자 안에서 변경하고 싶지 않다면 super.someProperty를 통해 상속한 프로퍼티 값을 그대로 가져올 수 있음
class Car: Vehicle {
    var gear = 1
    override var description: String {
        return super.description + " in gear \(gear)"
    }
}

let car = Car()
car.currentSpeed = 25.0
car.gear = 3
print("Car: \(car.description)")
// Car: traveling at 25.0 miles per hour in gear 3


// 프로퍼티 관찰자 오버라이딩
// 프로퍼티 관찰자를 상속한 프로퍼티로 추가하려면 프로퍼티 오버라이딩을 사용함. 어떻게 구현되었는지 관계없이 상속한 프로퍼티 값의 변화를 알 수 있음

/*
    프로퍼티 관찰자는 상수 혹 읽기 전용 프로퍼티에 추가될 수 없음. 오버라이딩 설정자와 오버라이딩 프로퍼티 관찰자를 동시에 제공할 수 없음
*/

class AutomaticCar: Car {
    override var currentSpeed: Double {
        didSet {
            gear = Int(currentSpeed / 10.0) + 1
        }
    }
}

let automatic = AutomaticCar()
automatic.currentSpeed = 35.0
print("AutomaticCar: \(automatic.description)")
// AutomaticCar: traveling at 35.0 miles per hour in gear 4


// 오버라이딩 방지
// final 키워드
// final var, final func, final class func, and final subscript 
// final 메서드, 프로퍼티, 서브스크립트를 오버라이드 하면 컴파일 에러가 발생함
----

=== 참고
* https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/[Swift Language Guide]
* http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9791162240052&orderClick=LAH&Kc=[스위프트 프로그래밍:Swift4]