= 서브스크립트(Subscript)

[source, swift]
----
// Subscript Syntax
// 클래스, 구조체, 열거형, Collection, List, Sequence의 요소에 접근하기 위한 축약형으로 서브스크립트로 정의할 수 있음

// getter, setter 
subscript(index: Int) -> Int {
    get {
        // return an appropriate subscript value here
    }
    set(newValue) {
        // perform a suitable setting action here
    }
}

// 읽기 전용
subscript(index: Int) -> Int {
    // return an appropriate subscript value here
}


// Subscript Usage
var numberOfLegs = ["spider": 8, "ant": 6, "cat": 4]
numberOfLegs["bird"] = 2

/*
    Swift Dictionary 타입은 내부적인 Key-Value 서브스크립트가 요구하고 반환하는 타입이 옵서녈 타입인 서브스크립트로 구현함
    Dictionary 타입은 "모든 키가 값을 가지고 있는 것은 아니다." 라는 사실을 위한 모델을 지원하기 위해 옵셔널 서브스크립트 타입으로 지원함
*/


// Subscript Options
struct Matrix {
    let rows: Int, columns: Int
    var grid: [Double]

    init(rows: Int, columns: Int) {
        self.rows = rows
        self.columns = columns
        grid = Array(repeating: 0.0, count: rows * columns)
    }

    func indexIsValid(row: Int, column: Int) -> Bool {
        return row >= 0 && row < rows && column >= 0 && column < columns
    }

    subscript(row: Int, column: Int) -> Double {
        get {
            assert(indexIsValid(row: row, column: column), "Index out of range")
            return grid[(row * columns) + column]
        }
        set {
            assert(indexIsValid(row: row, column: column), "Index out of range")
            grid[(row * columns) + column] = newValue
        }
    }
}

// Matrix 인스턴스 생성할 수 있음
var matrix = Matrix(rows: 2, columns: 2)

// 값을 설정할 수 있음
matrix[0, 1] = 1.5
matrix[1, 0] = 3.2

// 경계를 넘어가는 값이 Subscript로 들어오면 Assertion이 발생함
let someValue = matrix[2, 2]
// this triggers an assert, because [2, 2] is outside of the matrix bounds
----

===== 참고
* https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/[Swift Language Guide]
* http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9791162240052&orderClick=LAH&Kc=[스위프트 프로그래밍:Swift4]
